{% extends "base.html" %}
{% load static %}
{% block content %}
<link rel="stylesheet" href="https://cdn.datatables.net/1.13.7/css/jquery.dataTables.min.css">

{% if messages %}
    {% for message in messages %}
        {% if message.tags == 'success' %}
            <div class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative mb-4">
                <span class="block sm:inline">{{ message }}</span>
            </div>
        {% endif %}
        {% if message.tags == 'error' %}
            <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4">
                <span class="block sm:inline">{{ message }}</span>
            </div>
        {% endif %}
    {% endfor %}
{% endif %}


<section class="m-4">
    <h2 class="text-4xl font-bold text-green-700">Lista Vulnerabilidades</h2>
   <p class="p-4">
    <a class="text-white bg-gradient-to-br from-purple-600 to-blue-500 hover:bg-gradient-to-bl focus:ring-4 focus:outline-none focus:ring-blue-300 dark:focus:ring-blue-800 font-medium rounded-lg text-sm px-5 py-2.5 text-center me-2 mb-2"
    href="{% url 'addTarg' %}"> Agregar Target</a>
</p>

    <table id="example" class="table-fixed w-full bg-white border border-gray-300">
        <thead class="bg-gray-100">
            <tr>
                {% for header in headers %}
                <th class="px-4 py-2">{{ header }}</th>
                {% endfor %}
                <th class="px-4 py-2"> Acttion</th>
            </tr>
        </thead>
        <tbody>
            {% for row_data in values %}
            <tr>
                {% for key, value in row_data.items %}
                <td class="border px-4 py-2">{{ value }}</td>
                {% endfor %}
                <td class="border px-4 py-2"> 
                    <a href="{% url "editTarg" id=row_data.id %}" class="text-white bg-gradient-to-br from-purple-600 to-blue-500 hover:bg-gradient-to-bl focus:ring-4 focus:outline-none focus:ring-blue-300 dark:focus:ring-blue-800 font-medium rounded-lg text-sm px-5 py-2.5 text-center me-2 mb-2"> 
                        Edit
                    </a>
                    <a href="{% url "deleteTarg" id=row_data.id %}" class="text-white bg-gradient-to-br from-red-600 to-yellow-500 hover:bg-gradient-to-bl focus:ring-4 focus:outline-none focus:ring-yellow-300 dark:focus:ring-yellow-800 font-medium rounded-lg text-sm px-5 py-2.5 text-center me-2 mb-2"> 
                        Delete
                    </a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
        <tfoot class="bg-gray-100">
            <tr>
                {% for header in headers %}
                <th class="px-4 py-2">{{ header }}</th>
                {% endfor %}
                <th class="px-4 py-2"> Acttion</th>
                
            </tr>
        </tfoot>
    </table>
</section>
    
    <script src="https://code.jquery.com/jquery-3.7.0.js"></script>
    <script src="https://cdn.datatables.net/1.13.7/js/jquery.dataTables.min.js"></script>
    <script>
    </script>

{% endblock %}
